{% extends 'base.html' %}
{% load static %}

{% block title %}Checkout - SmartToolPDF{% endblock %}

{% block content %}
<div class="checkout-page" style="background: #F9FAFB; padding: 3rem 0; min-height: 80vh;">
    <div class="container" style="max-width: 900px; margin: 0 auto;">
        <!-- Header -->
        <div class="checkout-header" style="text-align: center; margin-bottom: 3rem;">
            <h1 style="font-size: 2.5rem; color: #111827; margin-bottom: 0.5rem;">Complete Your Purchase</h1>
            <p style="color: #6B7280; font-size: 1.125rem;">Upgrade to Premium and unlock all features</p>
        </div>

        <div class="checkout-content" style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
            <!-- Order Summary -->
            <div class="order-summary" style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); height: fit-content;">
                <h2 style="font-size: 1.5rem; color: #111827; margin-bottom: 1.5rem; border-bottom: 2px solid #E5E7EB; padding-bottom: 1rem;">
                    <i class="fas fa-shopping-cart"></i> Order Summary
                </h2>
                
                <div class="plan-details" style="margin-bottom: 2rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                        <div>
                            <h3 style="font-size: 1.25rem; color: #111827; margin-bottom: 0.25rem;">
                                <i class="fas fa-crown" style="color: #FFA500;"></i> {{ plan_name }} Plan
                            </h3>
                            <p style="color: #6B7280; font-size: 0.875rem;">Monthly subscription</p>
                        </div>
                        <div style="text-align: right;">
                            <p style="font-size: 1.75rem; font-weight: 700; color: #14B8A6;">₹{{ plan_price }}</p>
                            <p style="color: #6B7280; font-size: 0.875rem;">per month</p>
                        </div>
                    </div>
                </div>

                <div class="features-included" style="background: #F9FAFB; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
                    <h4 style="font-size: 1rem; color: #111827; margin-bottom: 1rem; font-weight: 600;">What's Included:</h4>
                    <ul style="list-style: none; padding: 0; margin: 0;">
                        <li style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; color: #374151;">
                            <i class="fas fa-check-circle" style="color: #10B981;"></i>
                            <span>Unlimited conversions</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; color: #374151;">
                            <i class="fas fa-check-circle" style="color: #10B981;"></i>
                            <span>Files up to 500MB</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; color: #374151;">
                            <i class="fas fa-check-circle" style="color: #10B981;"></i>
                            <span>All premium tools</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; color: #374151;">
                            <i class="fas fa-check-circle" style="color: #10B981;"></i>
                            <span>Priority processing</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; color: #374151;">
                            <i class="fas fa-check-circle" style="color: #10B981;"></i>
                            <span>Ad-free experience</span>
                        </li>
                        <li style="display: flex; align-items: center; gap: 0.75rem; padding: 0.5rem 0; color: #374151;">
                            <i class="fas fa-check-circle" style="color: #10B981;"></i>
                            <span>Priority support</span>
                        </li>
                    </ul>
                </div>

                <div class="pricing-breakdown" style="border-top: 2px solid #E5E7EB; padding-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                        <span style="color: #6B7280; font-size: 1rem;">Plan Price</span>
                        <span style="color: #111827; font-size: 1rem; font-weight: 600;">₹{{ plan_price }}</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.75rem;">
                        <span style="color: #6B7280; font-size: 1rem;">GST ({{ tax_rate }}%)</span>
                        <span style="color: #111827; font-size: 1rem; font-weight: 600;">₹{{ tax_amount }}</span>
                    </div>
                    <div style="border-top: 2px solid #E5E7EB; padding-top: 0.75rem; margin-top: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-size: 1.25rem; font-weight: 600; color: #111827;">Total Amount</span>
                            <span style="font-size: 2rem; font-weight: 700; color: #14B8A6;">₹{{ total_amount }}</span>
                        </div>
                        <p style="color: #6B7280; font-size: 0.875rem; margin-top: 0.5rem; text-align: right;">Includes {{ tax_rate }}% GST | Billed monthly</p>
                        <p style="color: #6B7280; font-size: 0.75rem; margin-top: 0.25rem; text-align: right;">GSTN: 29AFQPV0371Q1ZD</p>
                    </div>
                </div>
            </div>

            <!-- Payment Methods -->
            <div class="payment-section" style="background: white; border-radius: 12px; padding: 2rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
                <h2 style="font-size: 1.5rem; color: #111827; margin-bottom: 1.5rem; border-bottom: 2px solid #E5E7EB; padding-bottom: 1rem;">
                    <i class="fas fa-credit-card"></i> Payment Method
                </h2>

                <!-- Payment Tabs -->
                <div class="payment-tabs" style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                    <button class="tab-btn active" onclick="showPaymentMethod('qr')" style="flex: 1; padding: 0.75rem; border: 2px solid #14B8A6; background: #14B8A6; color: white; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        <i class="fas fa-qrcode"></i> QR Code
                    </button>
                    <button class="tab-btn" onclick="showPaymentMethod('card')" style="flex: 1; padding: 0.75rem; border: 2px solid #E5E7EB; background: white; color: #6B7280; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                        <i class="fas fa-credit-card"></i> Card
                    </button>
                </div>

                <!-- QR Code Payment -->
                <div id="qr-payment" class="payment-method">
                    <div style="text-align: center;">
                        <h3 style="font-size: 1.125rem; color: #111827; margin-bottom: 1rem;">
                            <i class="fas fa-qrcode"></i> Scan to Pay with UPI
                        </h3>
                        <p style="color: #6B7280; font-size: 0.875rem; margin-bottom: 1.5rem;">
                            Scan this QR code with any UPI app to pay <strong style="color: #14B8A6;">₹{{ total_amount }}</strong>
                        </p>
                        
                        <!-- QR Code Container -->
                        <div style="background: #F9FAFB; border: 2px dashed #14B8A6; border-radius: 12px; padding: 2rem; margin-bottom: 1rem; display: inline-block; position: relative;">
                            <div id="qrcode" style="display: flex; justify-content: center; align-items: center;"></div>
                            <div style="position: absolute; top: -12px; right: -12px; background: #10B981; color: white; border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.15);">
                                <i class="fas fa-check" style="font-size: 0.875rem;"></i>
                            </div>
                        </div>
                        <p style="color: #10B981; font-size: 0.75rem; margin-bottom: 1.5rem;">
                            <i class="fas fa-shield-check"></i> Scannable QR Code
                        </p>

                        <!-- Payment Instructions -->
                        <div style="background: #EFF6FF; border-left: 4px solid #3B82F6; padding: 1rem; border-radius: 8px; text-align: left; margin-bottom: 1.5rem;">
                            <h4 style="font-size: 0.875rem; font-weight: 600; color: #1E40AF; margin-bottom: 0.5rem;">
                                <i class="fas fa-info-circle"></i> Payment Instructions:
                            </h4>
                            <ol style="margin: 0; padding-left: 1.5rem; color: #1E40AF; font-size: 0.875rem;">
                                <li>Open any UPI app (Google Pay, PhonePe, Paytm, BHIM, etc.)</li>
                                <li>Scan the QR code above</li>
                                <li>Verify the amount: <strong>₹{{ total_amount }}</strong> (including {{ tax_rate }}% GST)</li>
                                <li>Complete the payment</li>
                                <li>Click "I've Completed Payment" button below</li>
                            </ol>
                        </div>

                        <!-- UPI ID Display -->
                        <div style="background: #F9FAFB; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; border: 2px solid #E5E7EB;">
                            <p style="color: #6B7280; font-size: 0.875rem; margin-bottom: 0.5rem; text-align: center;">
                                <i class="fas fa-mobile-alt"></i> Or pay manually using UPI ID:
                            </p>
                            <p style="font-weight: 700; color: #111827; font-size: 1.125rem; margin-bottom: 0.5rem; text-align: center; font-family: monospace;">
                                arven93798436@barodampay
                            </p>
                            <p style="color: #6B7280; font-size: 0.75rem; text-align: center; margin-bottom: 1rem;">
                                Amount: <strong>₹{{ total_amount }}</strong> | Reference: {{ user.email }}
                            </p>
                            
                            <!-- UPI Apps Logos -->
                            <div style="border-top: 1px solid #E5E7EB; padding-top: 1rem; margin-top: 1rem;">
                                <p style="color: #9CA3AF; font-size: 0.7rem; text-align: center; margin-bottom: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; font-weight: 600;">
                                    We accept payments from
                                </p>
                                <div style="display: flex; justify-content: center; align-items: center; gap: 0.75rem; flex-wrap: wrap;">
                                    <!-- Google Pay -->
                                    <img src="{% static 'images/payment-logos/Google_Pay_Logo.svg' %}" alt="Google Pay" style="height: 28px; width: auto; object-fit: contain;">
                                    
                                    <span style="color: #D1D5DB; font-size: 1rem;">|</span>
                                    
                                    <!-- PhonePe -->
                                    <img src="{% static 'images/payment-logos/PhonePe_Logo.svg.webp' %}" alt="PhonePe" style="height: 28px; width: auto; object-fit: contain;">
                                    
                                    <span style="color: #D1D5DB; font-size: 1rem;">|</span>
                                    
                                    <!-- Paytm -->
                                    <img src="{% static 'images/payment-logos/Paytm_logo.jpg' %}" alt="Paytm" style="height: 28px; width: auto; object-fit: contain;">
                                    
                                    <span style="color: #D1D5DB; font-size: 1rem;">|</span>
                                    
                                    <!-- BHIM -->
                                    <img src="{% static 'images/payment-logos/bhim.avif' %}" alt="BHIM" style="height: 28px; width: auto; object-fit: contain;">
                                    
                                    <span style="color: #D1D5DB; font-size: 1rem;">|</span>
                                    
                                    <!-- BharatPe -->
                                    <img src="{% static 'images/payment-logos/BharatPe.svg' %}" alt="BharatPe" style="height: 28px; width: auto; object-fit: contain;">
                                </div>
                            </div>
                        </div>

                        <button onclick="confirmPayment()" style="width: 100%; padding: 1rem; background: #14B8A6; color: white; border: none; border-radius: 8px; font-weight: 700; font-size: 1rem; cursor: pointer; transition: all 0.3s;">
                            <i class="fas fa-check-circle"></i> I've Completed Payment
                        </button>
                    </div>
                </div>

                <!-- Card Payment (Coming Soon) -->
                <div id="card-payment" class="payment-method" style="display: none;">
                    <div style="text-align: center; padding: 3rem 1rem;">
                        <i class="fas fa-credit-card" style="font-size: 4rem; color: #E5E7EB; margin-bottom: 1rem;"></i>
                        <h3 style="font-size: 1.25rem; color: #111827; margin-bottom: 0.5rem;">Card Payment Coming Soon</h3>
                        <p style="color: #6B7280; margin-bottom: 1.5rem;">We're working on integrating card payments. For now, please use QR code payment.</p>
                        <p style="color: #6B7280; font-size: 0.875rem;">
                            Questions? Contact us at <a href="mailto:smarttoolpdf@gmail.com" style="color: #14B8A6; text-decoration: none; font-weight: 600;">smarttoolpdf@gmail.com</a>
                        </p>
                    </div>
                </div>

                <!-- Security Notice -->
                <div style="display: flex; align-items: center; gap: 0.75rem; padding: 1rem; background: #F0FDF4; border-radius: 8px; margin-top: 1.5rem;">
                    <i class="fas fa-shield-alt" style="color: #10B981; font-size: 1.5rem;"></i>
                    <div>
                        <p style="font-weight: 600; color: #065F46; font-size: 0.875rem; margin-bottom: 0.25rem;">Secure Payment</p>
                        <p style="color: #047857; font-size: 0.75rem; margin: 0;">Your payment information is encrypted and secure</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Money Back Guarantee -->
        <div style="text-align: center; margin-top: 3rem; padding: 2rem; background: white; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);">
            <i class="fas fa-award" style="font-size: 3rem; color: #FFA500; margin-bottom: 1rem;"></i>
            <h3 style="font-size: 1.25rem; color: #111827; margin-bottom: 0.5rem;">30-Day Money-Back Guarantee</h3>
            <p style="color: #6B7280;">Not satisfied? Get a full refund within 30 days, no questions asked.</p>
        </div>
    </div>
</div>

<!-- CSRF Token -->
{% csrf_token %}

<!-- Confirmation Modal -->
<div id="confirmModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 16px; padding: 2rem; max-width: 500px; width: 90%; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.3); animation: slideIn 0.3s ease;">
        <div style="text-align: center; margin-bottom: 1.5rem;">
            <div style="width: 64px; height: 64px; background: #EFF6FF; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem;">
                <i class="fas fa-question-circle" style="font-size: 2rem; color: #3B82F6;"></i>
            </div>
            <h3 style="font-size: 1.5rem; color: #111827; margin-bottom: 0.5rem; font-weight: 700;">Confirm Payment Completion</h3>
            <p style="color: #6B7280; font-size: 1rem; line-height: 1.6;">
                Have you completed the payment and sent confirmation to <strong style="color: #14B8A6;">smarttoolpdf@gmail.com</strong>?
            </p>
        </div>
        
        <div style="background: #FEF3C7; border-left: 4px solid #F59E0B; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
            <p style="color: #92400E; font-size: 0.875rem; margin: 0;">
                <i class="fas fa-info-circle"></i> Please ensure you have sent the payment confirmation email before proceeding.
            </p>
        </div>
        
        <div style="display: flex; gap: 1rem;">
            <button onclick="closeModal()" style="flex: 1; padding: 0.75rem 1.5rem; background: white; color: #6B7280; border: 2px solid #E5E7EB; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                <i class="fas fa-times"></i> Cancel
            </button>
            <button id="submitConfirmBtn" onclick="submitPaymentConfirmation()" style="flex: 1; padding: 0.75rem 1.5rem; background: #14B8A6; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;">
                <i class="fas fa-check"></i> Yes, I've Paid
            </button>
        </div>
    </div>
</div>

<!-- Success Modal -->
<div id="successModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 9999; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 16px; padding: 2rem; max-width: 500px; width: 90%; box-shadow: 0 20px 25px -5px rgba(0,0,0,0.3); animation: slideIn 0.3s ease;">
        <div style="text-align: center;">
            <div style="width: 80px; height: 80px; background: #D1FAE5; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1.5rem;">
                <i class="fas fa-check-circle" style="font-size: 3rem; color: #10B981;"></i>
            </div>
            <h3 style="font-size: 1.5rem; color: #111827; margin-bottom: 1rem; font-weight: 700;">Payment Confirmation Received!</h3>
            <p id="successMessage" style="color: #6B7280; font-size: 1rem; line-height: 1.6; margin-bottom: 1.5rem;">
                Thank you! We will verify your payment and activate your premium account within 24 hours.
            </p>
            <button onclick="closeSuccessModal()" style="width: 100%; padding: 1rem 2rem; background: #14B8A6; color: white; border: none; border-radius: 8px; font-weight: 600; font-size: 1rem; cursor: pointer; transition: all 0.3s;">
                <i class="fas fa-arrow-right"></i> Go to Dashboard
            </button>
        </div>
    </div>
</div>

<!-- Include QR Code Library -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

<script>
// Generate QR Code with UPI URL
document.addEventListener('DOMContentLoaded', function() {
    // UPI payment details
    const merchantUpiId = 'arven93798436@barodampay';
    const merchantName = 'ARVENTO TECHNOLOGIES';
    const amount = '{{ total_amount }}';
    const currency = 'INR';
    const planName = '{{ plan_name }}';
    const userEmail = '{{ user.email }}';
    
    // Validate amount format before generating UPI URL
    const amountFloat = parseFloat(amount);
    if (isNaN(amountFloat) || amountFloat <= 0) {
        console.error('Invalid amount format:', amount);
        document.getElementById("qrcode").innerHTML = 
            '<div style="padding: 1rem; text-align: center;">' +
            '<i class="fas fa-exclamation-triangle" style="color: #F59E0B; font-size: 2rem; margin-bottom: 0.5rem;"></i>' +
            '<p style="color: #6B7280; font-size: 0.875rem;">QR Code generation failed.</p>' +
            '<p style="color: #6B7280; font-size: 0.875rem; margin-top: 0.5rem;">Please use the UPI ID below for manual payment.</p>' +
            '</div>';
        return;
    }
    
    // Format amount to exactly 2 decimal places
    const formattedAmount = amountFloat.toFixed(2);
    
    // Create transaction note with plan name and user email
    const transactionNote = `${planName} Plan - ${userEmail}`;
    
    // Build UPI deep linking URL following NPCI specification
    const upiUrl = `upi://pay?pa=${encodeURIComponent(merchantUpiId)}&pn=${encodeURIComponent(merchantName)}&am=${formattedAmount}&cu=${currency}&tn=${encodeURIComponent(transactionNote)}`;
    
    // Log UPI URL for debugging (without sensitive data in production)
    console.log('Generating QR code for UPI payment');
    console.log('Amount:', formattedAmount, currency);
    
    try {
        // Check if QRCode library is loaded
        if (typeof QRCode === 'undefined') {
            throw new Error('QRCode library not loaded');
        }
        
        new QRCode(document.getElementById("qrcode"), {
            text: upiUrl,
            width: 200,
            height: 200,
            colorDark: "#111827",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });
        
        console.log('QR code generated successfully');
    } catch (error) {
        console.error('QR Code generation error:', error);
        console.error('Error details:', error.message);
        
        // Display fallback message with better formatting
        document.getElementById("qrcode").innerHTML = 
            '<div style="padding: 1rem; text-align: center;">' +
            '<i class="fas fa-exclamation-triangle" style="color: #F59E0B; font-size: 2rem; margin-bottom: 0.5rem;"></i>' +
            '<p style="color: #6B7280; font-size: 0.875rem; font-weight: 600;">QR Code generation failed</p>' +
            '<p style="color: #6B7280; font-size: 0.75rem; margin-top: 0.5rem;">Please use the UPI ID below for manual payment</p>' +
            '<p style="color: #14B8A6; font-size: 0.875rem; font-weight: 700; margin-top: 1rem; font-family: monospace;">arven93798436@barodampay</p>' +
            '<p style="color: #6B7280; font-size: 0.75rem; margin-top: 0.5rem;">Amount: ₹' + formattedAmount + '</p>' +
            '</div>';
    }
});

// Switch payment methods
function showPaymentMethod(method) {
    const qrPayment = document.getElementById('qr-payment');
    const cardPayment = document.getElementById('card-payment');
    const tabs = document.querySelectorAll('.tab-btn');
    
    tabs.forEach(tab => {
        tab.style.background = 'white';
        tab.style.color = '#6B7280';
        tab.style.borderColor = '#E5E7EB';
    });
    
    if (method === 'qr') {
        qrPayment.style.display = 'block';
        cardPayment.style.display = 'none';
        tabs[0].style.background = '#14B8A6';
        tabs[0].style.color = 'white';
        tabs[0].style.borderColor = '#14B8A6';
    } else {
        qrPayment.style.display = 'none';
        cardPayment.style.display = 'block';
        tabs[1].style.background = '#14B8A6';
        tabs[1].style.color = 'white';
        tabs[1].style.borderColor = '#14B8A6';
    }
}

// Confirm payment
function confirmPayment() {
    showConfirmModal();
}

// Show confirmation modal
function showConfirmModal() {
    const modal = document.getElementById('confirmModal');
    modal.style.display = 'flex';
    document.body.style.overflow = 'hidden';
}

// Close modal
function closeModal() {
    const modal = document.getElementById('confirmModal');
    modal.style.display = 'none';
    document.body.style.overflow = 'auto';
}

// Submit payment confirmation
function submitPaymentConfirmation() {
    const submitBtn = document.getElementById('submitConfirmBtn');
    const originalText = submitBtn.innerHTML;
    
    // Disable button and show loading
    submitBtn.disabled = true;
    submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
    
    // Get CSRF token
    const csrftoken = document.querySelector('[name=csrfmiddlewaretoken]').value;
    
    // Send AJAX request
    fetch('{% url "dashboard:confirm_payment" %}', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
            'X-CSRFToken': csrftoken
        },
        body: new URLSearchParams({
            'plan_name': '{{ plan_name }}',
            'plan_price': '{{ plan_price }}',
            'tax_rate': '{{ tax_rate }}',
            'tax_amount': '{{ tax_amount }}',
            'total_amount': '{{ total_amount }}'
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.success) {
            // Show success modal
            closeModal();
            showSuccessModal(data.message);
        } else {
            alert('Error: ' + data.message);
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalText;
        }
    })
    .catch(error => {
        console.error('Error:', error);
        alert('An error occurred. Please try again or contact support.');
        submitBtn.disabled = false;
        submitBtn.innerHTML = originalText;
    });
}

// Show success modal
function showSuccessModal(message) {
    const successModal = document.getElementById('successModal');
    document.getElementById('successMessage').textContent = message;
    successModal.style.display = 'flex';
}

// Close success modal and redirect
function closeSuccessModal() {
    window.location.href = '{% url "dashboard:dashboard" %}';
}

// Hover effects
document.querySelectorAll('.tab-btn').forEach(btn => {
    btn.addEventListener('mouseenter', function() {
        if (!this.classList.contains('active')) {
            this.style.borderColor = '#14B8A6';
        }
    });
    btn.addEventListener('mouseleave', function() {
        if (!this.classList.contains('active')) {
            this.style.borderColor = '#E5E7EB';
        }
    });
});
</script>

<style>
@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@media (max-width: 768px) {
    .checkout-content {
        grid-template-columns: 1fr !important;
    }
    
    .checkout-header h1 {
        font-size: 1.75rem !important;
    }
}

button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

#confirmModal button:hover,
#successModal button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,0.2);
}

#confirmModal button:active,
#successModal button:active {
    transform: translateY(0);
}
</style>
{% endblock %}
