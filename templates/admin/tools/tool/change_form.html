{% extends "admin/change_form.html" %}
{% load static %}

{% block extrahead %}
{{ block.super }}
<style>
    .instructional-help {
        background: #e8f4f8;
        border-left: 4px solid #14B8A6;
        padding: 15px;
        margin: 15px 0;
        border-radius: 4px;
    }
    
    .instructional-help h4 {
        margin-top: 0;
        color: #0F766E;
    }
    
    .instructional-help ul {
        margin: 10px 0;
        padding-left: 20px;
    }
    
    .instructional-help li {
        margin: 5px 0;
    }
    
    .preview-button {
        background: #14B8A6;
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 14px;
        margin: 10px 0;
    }
    
    .preview-button:hover {
        background: #0F766E;
    }
    
    .field-input_format .help,
    .field-output_format .help,
    .field-long_description .help {
        color: #666;
        font-style: italic;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Add helpful tooltips
        const inputFormatField = document.querySelector('#id_input_format');
        const outputFormatField = document.querySelector('#id_output_format');
        
        if (inputFormatField) {
            inputFormatField.placeholder = 'e.g., PDF, DOCX, Image (JPG, PNG)';
        }
        
        if (outputFormatField) {
            outputFormatField.placeholder = 'e.g., DOCX, PDF, Compressed PDF';
        }
        
        // Add character counter for long description
        const longDescField = document.querySelector('#id_long_description');
        if (longDescField) {
            const counter = document.createElement('div');
            counter.style.cssText = 'color: #666; font-size: 12px; margin-top: 5px;';
            longDescField.parentNode.appendChild(counter);
            
            function updateCounter() {
                const length = longDescField.value.length;
                counter.textContent = `${length} characters (recommended: 200-400)`;
                counter.style.color = length < 200 ? '#ff9800' : length > 400 ? '#f44336' : '#4caf50';
            }
            
            longDescField.addEventListener('input', updateCounter);
            updateCounter();
        }
    });
</script>
{% endblock %}

{% block after_field_sets %}
<div class="instructional-help">
    <h4>üìù Instructional Content Guidelines</h4>
    <ul>
        <li><strong>Input/Output Format:</strong> Keep it short and clear (e.g., "PDF", "DOCX", "Image (JPG, PNG)")</li>
        <li><strong>Long Description:</strong> Write 2-4 sentences explaining the tool's benefits and use cases (200-400 characters recommended)</li>
        <li><strong>Custom Steps:</strong> Only fill these if you want to override the default step instructions</li>
        <li><strong>SEO Tip:</strong> Include relevant keywords naturally in the long description</li>
    </ul>
    
    <p><strong>üí° Pro Tip:</strong> Leave custom steps blank to use smart defaults that automatically include your input/output formats!</p>
    
    {% if original %}
    <a href="/tools/{{ original.slug }}/" target="_blank" class="preview-button">
        üîç Preview Tool Page
    </a>
    {% endif %}
</div>
{{ block.super }}
{% endblock %}
